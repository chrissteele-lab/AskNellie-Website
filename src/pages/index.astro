---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

const services = [
  { title: "Kitchens & Bathrooms", desc: "Silicone resealing, tap repairs, tiling touch-ups, and general kitchen and bathroom maintenance.", icon: "üíß" },
  { title: "Granite & Quartz Worktops", desc: "Specialist fitting, cutting, and repairs for granite and quartz surfaces. Over 20 years' experience.", icon: "üíé" },
  { title: "Doors & Locks", desc: "Sticking doors fixed, new locks fitted, hinges replaced, and handles upgraded.", icon: "üö™" },
  { title: "Odd Jobs & Mounting", desc: "TV wall mounting, shelving, flatpack assembly, and plasterboard repairs.", icon: "ü™õ" },
  { title: "Electrical Basics", desc: "Socket and switch replacements, light fitting installations, and minor electrical tasks.", icon: "üí°" },
  { title: "Garden & Exterior", desc: "Fence and gate repairs, shed maintenance, garden tidying, and driveway jetwashing.", icon: "üè°" }
];

const pillars = [
  { title: "Punctual & Reliable", desc: "We turn up when we say we will. Your time is valuable." },
  { title: "Clean Workmanship", desc: "We treat your home like our own, leaving no mess behind." },
  { title: "Transparent Pricing", desc: "No hidden fees. Honest quotes before we start any work." },
  { title: "Friendly Service", desc: "A smile comes standard. We're here to help make your day easier." }
];

const testimonials = [
  { name: "Sarah M.", quote: "Nellie was fantastic. Arrived on time, fixed my door, and hoovered up after. Brilliant job!" },
  { name: "Emily H", quote: "Neil resealed my bathroom, he did a wonderful job and was very friendly." }
];
---

<Layout title="Ask Nellie | Handyman Services in Stoke-on-Trent & Staffordshire">
	<Header />
	
	<main class="min-h-screen">
		<!-- Hero Section -->
		<section id="hero" class="relative pt-32 pb-20 lg:pt-48 lg:pb-32 px-6 overflow-hidden">
			<div class="absolute inset-0 z-[-1] opacity-[0.03]">
				<img src="/assets/images/photo.png" alt="Background Texture" class="w-full h-full object-cover grayscale" />
			</div>
			<div class="max-w-7xl mx-auto flex flex-col md:flex-row items-center gap-12">
				<div class="flex-1 text-center md:text-left">
					<h1 class="hero-anim text-5xl md:text-7xl font-heading font-extrabold text-trust-blue leading-tight mb-6">
						Consider it <span class="text-action-orange">Done.</span>
					</h1>
					<p class="hero-anim text-xl md:text-2xl text-gray-600 mb-8 max-w-2xl font-body">
						Reliable, friendly, and professional handyman services across Stoke-on-Trent and Staffordshire. <br /><br/> With over 20 years' experience, just ask Nellie!
					</p>
					<div class="hero-anim flex flex-col sm:flex-row gap-4 justify-center md:justify-start">
						<a href="#contact" class="bg-action-orange text-white flex items-center justify-center gap-2 text-lg font-semibold px-8 py-4 rounded-full hover:bg-orange-600 transition-all shadow-lg hover:shadow-xl hover:-translate-y-1 text-center cursor-pointer">
							Get a Free Quote
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" /></svg>
						</a>
						<a href="#services" class="bg-white text-trust-blue border-2 border-trust-blue text-lg font-semibold px-8 py-4 rounded-full hover:bg-calm-wash transition-colors flex items-center justify-center cursor-pointer">
							Our Services
						</a>
					</div>
				</div>
				<div class="flex-1 w-full relative hero-image-wrapper flex justify-center items-center">
					<div class="absolute inset-0 bg-calm-wash/50 rounded-[3rem] transform rotate-3 scale-105 z-[-1]"></div>
					<div class="bg-white p-4 sm:p-8 rounded-[3rem] shadow-2xl relative">
					  <!-- Decorative elements behind the logo container -->
					  <div class="absolute -top-6 -left-6 w-20 h-20 bg-action-orange/20 rounded-full blur-2xl z-[-1]"></div>
					  <div class="absolute -bottom-8 -right-8 w-32 h-32 bg-trust-blue/20 rounded-full blur-3xl z-[-1]"></div>
					  <img src="/assets/images/logo.jpg" alt="Ask Nellie Handyman Services Logo" class="rounded-2xl w-full max-w-md h-auto object-contain relative z-10 hover:scale-[1.02] transition-transform duration-500" />
					</div>
				</div>
			</div>
		</section>

		<!-- Services Grid -->
		<section id="services" class="py-24 px-6 bg-gray-50 overflow-hidden relative">
			<!-- Scattered Polaroid Photos - Desktop (hidden on mobile) -->
			<div class="hidden lg:block">
				<!-- Left side photos -->
				<div class="work-photo absolute -left-4 top-32 bg-white p-2 rounded-lg shadow-lg z-0 opacity-70 hover:opacity-100 hover:z-20 transition-all duration-300" style="transform: rotate(-6deg);">
					<img src="/assets/images/photo.png" alt="Handyman work example" class="w-36 h-28 object-cover rounded" />
				</div>
				<div class="work-photo absolute left-2 top-[55%] bg-white p-2 rounded-lg shadow-lg z-0 opacity-70 hover:opacity-100 hover:z-20 transition-all duration-300" style="transform: rotate(4deg);">
					<img src="/assets/images/photo2.png" alt="Handyman work example" class="w-32 h-24 object-cover rounded" />
				</div>
				<div class="work-photo absolute -left-2 bottom-24 bg-white p-2 rounded-lg shadow-lg z-0 opacity-70 hover:opacity-100 hover:z-20 transition-all duration-300" style="transform: rotate(-3deg);">
					<img src="/assets/images/photo3.png" alt="Handyman work example" class="w-36 h-28 object-cover rounded" />
				</div>
				<!-- Right side photos -->
				<div class="work-photo absolute -right-4 top-40 bg-white p-2 rounded-lg shadow-lg z-0 opacity-70 hover:opacity-100 hover:z-20 transition-all duration-300" style="transform: rotate(5deg);">
					<img src="/assets/images/photo3.png" alt="Handyman work example" class="w-32 h-24 object-cover rounded" />
				</div>
				<div class="work-photo absolute right-2 top-[50%] bg-white p-2 rounded-lg shadow-lg z-0 opacity-70 hover:opacity-100 hover:z-20 transition-all duration-300" style="transform: rotate(-4deg);">
					<img src="/assets/images/photo.png" alt="Handyman work example" class="w-36 h-28 object-cover rounded" />
				</div>
				<div class="work-photo absolute -right-2 bottom-28 bg-white p-2 rounded-lg shadow-lg z-0 opacity-70 hover:opacity-100 hover:z-20 transition-all duration-300" style="transform: rotate(3deg);">
					<img src="/assets/images/photo2.png" alt="Handyman work example" class="w-32 h-24 object-cover rounded" />
				</div>
			</div>

			<!-- Polaroid strip - Mobile only (above cards) -->
			<div class="flex lg:hidden gap-4 overflow-x-auto pb-8 -mx-2 px-2 scrollbar-hide">
				<div class="work-photo flex-shrink-0 bg-white p-1.5 rounded-lg shadow-md" style="transform: rotate(-3deg);">
					<img src="/assets/images/photo.png" alt="Handyman work" class="w-28 h-20 object-cover rounded" />
				</div>
				<div class="work-photo flex-shrink-0 bg-white p-1.5 rounded-lg shadow-md" style="transform: rotate(2deg);">
					<img src="/assets/images/photo2.png" alt="Handyman work" class="w-28 h-20 object-cover rounded" />
				</div>
				<div class="work-photo flex-shrink-0 bg-white p-1.5 rounded-lg shadow-md" style="transform: rotate(-2deg);">
					<img src="/assets/images/photo3.png" alt="Handyman work" class="w-28 h-20 object-cover rounded" />
				</div>
			</div>

			<div class="max-w-5xl mx-auto relative z-10">
				<div class="reveal-heading text-center mb-16">
					<h2 class="text-4xl md:text-5xl font-heading font-bold text-trust-blue mb-4">Our Services</h2>
					<p class="text-lg text-gray-600 max-w-2xl mx-auto">From quick fixes to custom builds across Stoke-on-Trent and Staffordshire, we handle it all with care and precision.</p>
				</div>
				
				<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
					{services.map(service => (
						<div class="service-card bg-white p-8 rounded-2xl shadow-sm hover:shadow-xl hover:-translate-y-2 transition-all duration-300 border-t-4 border-transparent hover:border-action-orange group">
							<div class="text-4xl mb-6 transform group-hover:scale-110 transition-transform">{service.icon}</div>
							<h3 class="text-2xl font-heading font-semibold text-trust-blue mb-3">{service.title}</h3>
							<p class="text-gray-600 leading-relaxed">{service.desc}</p>
						</div>
					))}
				</div>
				<p class="service-card text-center mt-10 text-gray-500 text-lg">For more examples of our work, <a href="https://www.facebook.com/people/ASK-Nellie-handyman/61586513204662/" target="_blank" rel="noopener noreferrer" class="text-action-orange font-semibold hover:underline inline-flex items-center gap-1">follow us on Facebook <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 fill-current" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></a></p>
			</div>

			<!-- Polaroid strip - Mobile only (below cards) -->
			<div class="flex lg:hidden gap-4 overflow-x-auto pt-8 -mx-2 px-2 scrollbar-hide">
				<div class="work-photo flex-shrink-0 bg-white p-1.5 rounded-lg shadow-md" style="transform: rotate(3deg);">
					<img src="/assets/images/photo3.png" alt="Handyman work" class="w-28 h-20 object-cover rounded" />
				</div>
				<div class="work-photo flex-shrink-0 bg-white p-1.5 rounded-lg shadow-md" style="transform: rotate(-2deg);">
					<img src="/assets/images/photo.png" alt="Handyman work" class="w-28 h-20 object-cover rounded" />
				</div>
				<div class="work-photo flex-shrink-0 bg-white p-1.5 rounded-lg shadow-md" style="transform: rotate(2deg);">
					<img src="/assets/images/photo2.png" alt="Handyman work" class="w-28 h-20 object-cover rounded" />
				</div>
			</div>
		</section>

		<!-- Why Choose Us -->
		<section id="about" class="py-24 px-6 bg-calm-wash relative overflow-hidden">
			<div class="max-w-7xl mx-auto flex flex-col lg:flex-row items-center gap-16">
				<div class="flex-1 w-full">
					<div class="polaroid-stack relative w-full flex justify-center items-center min-h-[280px] sm:min-h-[340px] lg:min-h-[420px]" style="perspective: 1000px;">
						<!-- Card 3 (back) -->
						<div class="polaroid-card absolute bg-white p-2 sm:p-3 rounded-lg shadow-xl cursor-pointer select-none" style="z-index: 1; transform: rotate(6deg) translateX(15px) translateY(8px);" data-index="2">
							<img src="/assets/images/photo3.png" alt="Handyman work completed in Stoke-on-Trent" class="w-72 h-56 sm:w-[360px] sm:h-[280px] lg:w-[480px] lg:h-[360px] object-cover rounded" draggable="false" />
						</div>
						<!-- Card 2 (middle) -->
						<div class="polaroid-card absolute bg-white p-2 sm:p-3 rounded-lg shadow-xl cursor-pointer select-none" style="z-index: 2; transform: rotate(-3deg) translateX(-8px) translateY(4px);" data-index="1">
							<img src="/assets/images/photo2.png" alt="Professional handyman services in Staffordshire" class="w-72 h-56 sm:w-[360px] sm:h-[280px] lg:w-[480px] lg:h-[360px] object-cover rounded" draggable="false" />
						</div>
						<!-- Card 1 (top) -->
						<div class="polaroid-card absolute bg-white p-2 sm:p-3 rounded-lg shadow-xl cursor-pointer select-none" style="z-index: 3; transform: rotate(-1deg);" data-index="0">
							<img src="/assets/images/photo.png" alt="Ask Nellie handyman at work in Stoke-on-Trent" class="w-72 h-56 sm:w-[360px] sm:h-[280px] lg:w-[480px] lg:h-[360px] object-cover rounded" draggable="false" />
						</div>
					</div>
				</div>
				<div class="flex-1">
					<h2 class="reveal-heading text-4xl md:text-5xl font-heading font-bold text-trust-blue mb-8">Why Choose Ask Nellie?</h2>
					<div class="space-y-8">
						{pillars.map(pillar => (
							<div class="pillar-item flex items-start gap-4">
								<div class="mt-1 bg-white rounded-full p-2 shadow-sm text-action-orange">
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
										<path fill-rule="evenodd" d="M19.916 4.626a.75.75 0 01.208 1.04l-9 13.5a.75.75 0 01-1.154.114l-6-6a.75.75 0 011.06-1.06l5.353 5.353 8.493-12.739a.75.75 0 011.04-.208z" clip-rule="evenodd" />
									</svg>
								</div>
								<div>
									<h4 class="text-xl font-heading font-semibold text-trust-blue mb-2">{pillar.title}</h4>
									<p class="text-gray-700">{pillar.desc}</p>
								</div>
							</div>
						))}
					</div>
				</div>
			</div>
		</section>

		<!-- Meet Neil -->
		<section class="meet-neil py-20 px-6 relative overflow-hidden">
			<div class="absolute inset-0 z-0">
				<img src="/assets/images/neil-dog.jpg" alt="" class="w-full h-full object-cover opacity-[0.15] grayscale" />
			</div>
			<div class="max-w-3xl mx-auto text-center relative z-10">
				<h3 class="reveal-heading text-3xl md:text-4xl font-heading font-bold text-trust-blue mb-6">Meet Neil</h3>
				<span class="text-8xl text-trust-blue/10 font-serif leading-none block -mb-8">&ldquo;</span>
				<p class="text-lg text-gray-700 leading-relaxed mb-6">
					Hi, I'm Neil Hughes, but you can call me Nellie. I've been working with my hands for over 20 years, running my own company specialising in kitchens and quartz worktops. I still offer specialist granite and quartz worktop services alongside the full range of handyman work you see today.
				</p>
				<p class="text-lg text-gray-700 leading-relaxed mb-6">
					Born and bred in Stoke-on-Trent, I grew up around Fenton and Longton, and I'm proud to serve the area. When I'm not fixing, building, or jetwashing, you'll find me at home with my wife Amy or out walking our beautiful dog.
				</p>
				<p class="text-lg text-gray-700 leading-relaxed">
					I believe in doing the job right, leaving things clean and tidy, and never letting people down. No messing about, just honest, reliable work.
				</p>
				<span class="text-8xl text-trust-blue/10 font-serif leading-none block mt-4">&rdquo;</span>
			</div>
		</section>

		<!-- Testimonials -->
		<section id="testimonials" class="py-24 px-6 overflow-hidden">
			<div class="max-w-4xl mx-auto text-center">
				<h2 class="reveal-heading text-4xl md:text-5xl font-heading font-bold text-trust-blue mb-12">What Our Customers Say</h2>
				<div class="grid grid-cols-1 md:grid-cols-2 gap-8">
					{testimonials.map(t => (
						<div class="testimonial-card bg-gray-50 p-8 rounded-2xl italic text-gray-700 relative">
							<span class="text-6xl text-calm-wash absolute top-4 left-4 opacity-50 font-serif">"</span>
							<p class="relative z-10 text-lg mb-6 pt-4">"{t.quote}"</p>
							<p class="font-heading font-semibold text-action-orange not-italic">‚Äî {t.name}</p>
						</div>
					))}
				</div>
			</div>
		</section>

		<!-- Pricing / Get a Quote -->
		<section id="pricing" class="py-24 px-6 bg-trust-blue text-white overflow-hidden">
			<div class="max-w-4xl mx-auto text-center">
				<h2 class="reveal-heading text-4xl md:text-5xl font-heading font-bold mb-6">Honest, Competitive Pricing</h2>
				<p class="reveal-heading text-xl text-calm-wash mb-10 max-w-2xl mx-auto">
					Every job is different, so we quote each one individually, no generic price lists, no surprises. Just a fair price for quality work.
				</p>
				<div class="grid grid-cols-1 sm:grid-cols-3 gap-6 mb-12">
					<div class="pricing-card bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl p-8">
						<div class="text-4xl mb-4">üí¨</div>
						<h4 class="font-heading font-semibold text-xl mb-3">Free Quotes</h4>
						<p class="text-calm-wash">Get in touch and we'll give you a clear, no-obligation quote before any work starts.</p>
					</div>
					<div class="pricing-card bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl p-8">
						<div class="text-4xl mb-4">üè∑Ô∏è</div>
						<h4 class="font-heading font-semibold text-xl mb-3">No Hidden Fees</h4>
						<p class="text-calm-wash">The price we quote is the price you pay. No call-out charges, no sneaky extras.</p>
					</div>
					<div class="pricing-card bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl p-8">
						<div class="text-4xl mb-4">‚≠ê</div>
						<h4 class="font-heading font-semibold text-xl mb-3">Competitive Rates</h4>
						<p class="text-calm-wash">Quality workmanship at fair prices. We're confident you won't find better value locally.</p>
					</div>
				</div>
				<a href="#contact" class="inline-flex items-center gap-2 bg-action-orange text-white text-xl font-bold px-10 py-5 rounded-full hover:bg-orange-600 transition-all shadow-lg hover:shadow-xl hover:-translate-y-1">
					Get Your Free Quote
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" /></svg>
				</a>
			</div>
		</section>

		<!-- Areas We Serve -->
		<section id="areas" class="py-24 px-6 bg-gray-50 overflow-hidden">
			<div class="max-w-7xl mx-auto">
				<div class="text-center mb-16">
					<h2 class="text-4xl md:text-5xl font-heading font-bold text-trust-blue mb-4">Areas We Serve</h2>
					<p class="text-xl text-gray-600 max-w-3xl mx-auto">Proud to serve homes and businesses across Stoke-on-Trent, Newcastle-under-Lyme, Leek, and the wider Staffordshire area. Whether you need a handyman in Hanley or help in Kidsgrove, Neil's got you covered.</p>
				</div>

				<!-- Stoke-on-Trent Towns -->
				<div class="mb-12">
					<h3 class="font-heading font-bold text-2xl text-action-orange mb-2 text-center">Stoke-on-Trent</h3>
					<p class="text-gray-500 text-center mb-6">Covering all six towns and the surrounding communities</p>
					<div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4">
						{["Hanley", "Stoke", "Fenton", "Longton", "Burslem", "Tunstall"].map(town => (
							<div class="area-tag bg-white border-2 border-trust-blue/20 rounded-xl p-4 text-center hover:border-action-orange hover:shadow-md transition-all">
								<span class="font-heading font-semibold text-trust-blue">{town}</span>
							</div>
						))}
					</div>
				</div>

				<!-- Surrounding Areas -->
				<div>
					<h3 class="font-heading font-bold text-2xl text-action-orange mb-6 text-center">Surrounding Areas</h3>
					<div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4">
						{["Newcastle-under-Lyme", "Leek", "Stone", "Stafford", "Cheadle", "Biddulph", "Kidsgrove", "Audley", "Endon", "Brown Edge", "Werrington", "Trentham"].map(area => (
							<div class="area-tag bg-white border-2 border-trust-blue/10 rounded-xl p-4 text-center hover:border-action-orange hover:shadow-md transition-all">
								<span class="font-body text-gray-700">{area}</span>
							</div>
						))}
					</div>
				</div>

				<p class="text-center text-gray-500 mt-10 text-lg">Don't see your area? <a href="#contact" class="text-action-orange font-semibold hover:underline">Get in touch</a> ‚Äî we regularly work across North Staffordshire and beyond!</p>
			</div>
		</section>

		<!-- Final CTA -->
		<section id="contact" class="py-20 px-6 bg-action-orange text-white text-center">
			<div class="max-w-3xl mx-auto">
				<h2 class="reveal-heading text-4xl md:text-6xl font-heading font-bold mb-6">Ready to get those jobs sorted?</h2>
				<p class="reveal-heading text-xl mb-10 text-white/90">Drop us a message on WhatsApp or give us a call to get a free, no-obligation quote. Serving Stoke-on-Trent & Staffordshire.</p>
				<div class="flex flex-col sm:flex-row gap-4 justify-center flex-wrap">
					<a href="javascript:void(0)" data-contact-href="=QTNzIDOycjM1cDN08SZt5SY39yL6MHc0RHa" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center gap-2 bg-[#25D366] text-white text-xl font-bold px-10 py-5 rounded-full hover:bg-[#1ebd5c] transition-all shadow-lg hover:shadow-xl hover:-translate-y-1">
						<svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 fill-current" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
					WhatsApp Us
					</a>
					<a href="javascript:void(0)" data-contact-href="=QTNzIDOycjM1cDN0siOsVGd" class="inline-flex items-center justify-center gap-2 bg-white text-action-orange text-xl font-bold px-10 py-5 rounded-full hover:bg-gray-100 transition-all shadow-lg hover:shadow-xl hover:-translate-y-1">
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z" /></svg>
					Call <span data-contact-text="0UzMygjMgcjM1cDM">...</span>
					</a>
					<a href="javascript:void(0)" data-contact-href="==wa15ybj5SZpxGbl52azFGQvxGblhmOvRHbpFWb" class="inline-flex items-center justify-center gap-2 bg-white/20 text-white border-2 border-white/40 text-xl font-bold px-10 py-5 rounded-full hover:bg-white/30 transition-all shadow-lg hover:shadow-xl hover:-translate-y-1">
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" /></svg>
					Email Us
					</a>
				</div>
			</div>
		</section>
	</main>
	<Footer />

	<script>
		import { gsap } from "gsap";

		const tl = gsap.timeline();

		// 1. Animate Hero Text elements stagger
		tl.from(".hero-anim", { 
			y: 50, 
			opacity: 0, 
			duration: 0.8, 
			stagger: 0.2, 
			ease: "back.out(1.7)",
			delay: 0.1
		})
		// 2. Float in the Hero Image
		.from(".hero-image-wrapper", {
			x: 50,
			opacity: 0,
			duration: 1,
			ease: "power3.out"
		}, "-=0.6");

		// Scroll Reveal using IntersectionObserver ‚Äî observe each element individually
		function revealOnScroll(selector: string, animProps: gsap.TweenVars, stagger = 0.15) {
			const els = document.querySelectorAll(selector);
			if (!els.length) return;
			// Set initial hidden state
			els.forEach(el => gsap.set(el, { opacity: 0, ...animProps }));
			// Observe each element individually so it animates when IT enters the viewport
			const observer = new IntersectionObserver((entries) => {
				entries.forEach(entry => {
					if (entry.isIntersecting) {
						const resetProps: gsap.TweenVars = {};
						for (const key of Object.keys(animProps)) resetProps[key] = 0;
						gsap.to(entry.target, {
							opacity: 1,
							...resetProps,
							duration: 0.6,
							delay: stagger * Array.from(els).indexOf(entry.target as Element),
							ease: "power2.out"
						});
						observer.unobserve(entry.target);
					}
				});
			}, { threshold: 0.15 });
			els.forEach(el => observer.observe(el));
		}

		revealOnScroll(".reveal-heading", { y: 30 }, 0);
		revealOnScroll(".service-card", { y: 50 });
		revealOnScroll(".pillar-item", { x: -50 }, 0.2);
		revealOnScroll(".pricing-card", { y: 40 }, 0.15);
		revealOnScroll(".area-tag", { y: 30 }, 0.05);
		revealOnScroll(".meet-neil", { y: 40 });
		revealOnScroll(".work-photo", { y: 20, scale: 0.9 }, 0.1);

		// Testimonials with custom ease
		const testimonialEls = document.querySelectorAll(".testimonial-card");
		if (testimonialEls.length) {
			gsap.set(".testimonial-card", { opacity: 0, scale: 0.9 });
			const tObserver = new IntersectionObserver((entries) => {
				entries.forEach(entry => {
					if (entry.isIntersecting) {
						gsap.to(".testimonial-card", {
							opacity: 1,
							scale: 1,
							duration: 0.6,
							stagger: 0.2,
							ease: "back.out(1.5)"
						});
						tObserver.disconnect();
					}
				});
			}, { threshold: 0.15 });
			testimonialEls.forEach(el => tObserver.observe(el));
		}

		// Polaroid Stack Carousel
		const cards = document.querySelectorAll(".polaroid-card") as NodeListOf<HTMLElement>;
		const totalCards = cards.length;
		// Each card's resting rotation/offset
		const poses = [
			{ rotate: -1, x: 0, y: 0 },
			{ rotate: -3, x: -8, y: 4 },
			{ rotate: 6, x: 15, y: 8 }
		];
		let stackOrder = Array.from({ length: totalCards }, (_, i) => i); // [0,1,2] top-to-back
		let isAnimating = false;
		let polaroidInterval: ReturnType<typeof setInterval>;

		function updateZIndexes() {
			stackOrder.forEach((cardIdx, stackPos) => {
				cards[cardIdx].style.zIndex = String(totalCards - stackPos);
			});
		}

		function flingTopCard() {
			if (isAnimating) return;
			isAnimating = true;
			const topCardIdx = stackOrder[0];
			const topCard = cards[topCardIdx];

			// Fling the top card off to the right with a spin
			const flingX = window.innerWidth < 640 ? 200 : 350;
			gsap.to(topCard, {
				x: flingX,
				y: -60,
				rotation: 25,
				opacity: 0,
				duration: 0.5,
				ease: "power2.in",
				onComplete: () => {
					// Move to back of stack
					stackOrder.push(stackOrder.shift()!);
					updateZIndexes();

					// Reset position instantly (behind the deck)
					const backPose = poses[totalCards - 1] || poses[poses.length - 1];
					gsap.set(topCard, {
						x: backPose.x,
						y: backPose.y,
						rotation: backPose.rotate,
						opacity: 1
					});

					// Animate all cards to their new resting positions
					stackOrder.forEach((cardIdx, stackPos) => {
						const pose = poses[stackPos] || poses[poses.length - 1];
						gsap.to(cards[cardIdx], {
							x: pose.x,
							y: pose.y,
							rotation: pose.rotate,
							duration: 0.4,
							ease: "back.out(1.4)"
						});
					});

					isAnimating = false;
				}
			});
		}

		// Auto-advance every 4.5 seconds
		if (totalCards > 1) {
			polaroidInterval = setInterval(flingTopCard, 4500);

			// Click to fling
			cards.forEach(card => {
				card.addEventListener("click", () => {
					clearInterval(polaroidInterval);
					flingTopCard();
					polaroidInterval = setInterval(flingTopCard, 4500);
				});
			});
		}
	</script>
</Layout>
